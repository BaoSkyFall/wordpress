!function(l){"use strict";var d=function(){setTimeout(function(){l(document).trigger("reycore/minicart/open")},500)};l(document.body).on("added_to_cart",function(e,a,r,t){var o=!t.hasClass("single_add_to_cart_button");if("yes"!==wc_add_to_cart_params.cart_redirect_after_add&&"popup"===l.reyHelpers.params.after_add_to_cart){if(o&&!1===l.reyHelpers.params.after_add_to_cart_popup_config.show_in_loop||t.closest(".product").hasClass("--prevent-aatc"))return void d();!function(e){if(void 0!==l.reyCore){e||(e=l(".single_add_to_cart_button:not(.disabled)"));var a=wp.template("reycore-aatc-tpl");if(l.reyHelpers.is_desktop&&!e.hasClass("--prevent-aatc")){var r=e.attr("data-product_id")||e.val()||e.closest("form.cart").find('input[name="product_id"]').val()||"";r?l.reyCore.reyModal.init({onInit:function(c){c.$instance.length?l(".slick-initialized",c.$instance).slick("refresh"):void 0!==l.reyHelpers.params.ajaxurl?l.ajax({type:"POST",url:l.reyHelpers.params.ajaxurl,dataType:"json",data:{action:"reycore_after_add_to_cart_popup",product_id:r},success:function(e){var a=l(".rey-acPopup-content",c.$newContent);if(l(".rey-modalLoader",c.$modal).fadeOut("fast"),!e||e&&""===e.data)a.html("Couldn't retrieve data!");else{var r=a.html(e.data),t=l("ul.products",r),o=l("li.product",r),d=parseInt(r.attr("data-cols"))||4;if(t.length&&(l(document).trigger("rey/product/loaded",[o]),l(".add_to_cart_button",r).addClass("--prevent-aatc"),t.hasClass("--carousel")&&o.length>d)){var n=wp.template("reyArrowSvg"),s=n({direction:"left"}),p=n({direction:"right"}),i=l('<div class="rey-acPopup-nav"></div>').insertAfter(l(".rey-acPopup-header h2",c.$modal));t.removeClass(function(e,a){return(a.match(/(^|\s)columns-\S+/g)||[]).join(" ")}).slick({dots:!1,infinite:!0,speed:300,arrows:!0,nextArrow:p,prevArrow:s,appendArrows:i,slidesToShow:d,slidesToScroll:1,autoplay:l.reyHelpers.params.after_add_to_cart_popup_config.autoplay,autoplaySpeed:parseInt(l.reyHelpers.params.after_add_to_cart_popup_config.autoplay_speed),rtl:l.reyHelpers.is_rtl})}}}}):console.warn("Ajax url undefined")},width:1200,content:a(),removeLoadingOnOpen:!1,wrapperClass:"rey-acPopup-modal",id:"aatc-"+r}):d()}else d()}else console.warn("$.reyCore undefined.")}(t)}})}(jQuery);